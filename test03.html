<!DOCTYPE html>
<html>

<body>
    <input id="input">
    <button onclick="find()">find</button>
    <script src="books.js"></script>
    <script>
        console.log(link[suggestion['创']]);
        console.log(link[suggestion['csj']]);
        var suggestionKeys = Object.keys(suggestion);
        console.log(suggestionKeys);

        function find() {
            var text = document.getElementById("input").value;
            var relatedKeys = searchData(text, suggestionKeys);
            console.log(relatedKeys);
            var value = []
            for (var i=0; i < relatedKeys.length; i++){
                candidateValue = suggestion[relatedKeys[i]];
                if(!(value.includes(candidateValue))){
                    value.push(candidateValue)
                } 
            }
            console.log(value);
        }

        function searchData(keyWord, list) {
            // this is copied from 
            // https://blog.csdn.net/YeShenLiaoSuiFeng/article/details/80519004
            // need to be improved
            if (!Array.isArray(list) && keyWord !== '') return
            let arr = []
            let reg = new RegExp(keyWord, 'i') // 不区分大小写
            for (let i = 0; i < list.length; i++) {
                if (list[i].match(reg)) arr.push(list[i])
            }
            return arr
        }
    </script>

</body>

</html>